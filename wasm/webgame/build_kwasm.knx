($sequence
    ($define! macro-atom? ($lambda (x) (=? #! (first (chars x)))))
    ($define! expand-!-macros ($lambda (tree) ($match tree 
        ((#!params . rest) ($quote ((param $i i32) (param $j i32))))

        // no pattern matched
        (atom (atom? atom) (list atom))
        (asdf (list (reduce (map asdf expand-!-macros) concat (list))))
    )))
    (write #game.wat (toString (first (expand-!-macros (load #game.kwt))))))